<!DOCTYPE html>
<html>
  <head>
    <title>WebGIS Transportasi Jatim</title>

    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=1.0, user-scalable=no" />

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" />
    <link rel="shortcut icon" href="" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <link rel="icon" href="image/logo_jatim.png">
    <link rel="stylesheet" href="css\leaflet-sidebar.css" />
    <link rel="stylesheet" href="css\L.Control.AccordionLegend.css" />

    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <style>
      body {
        padding: 0;
        margin: 0;
      }

      html,
      body,
      #map {
        height: 100%;
        font: 10pt "Helvetica Neue", Arial, Helvetica, sans-serif;
      }

      .lorem {
        font-style: normal;
        text-align: justify;
        color: #000000;
      }

      .leaflet-control-scale-line {
        margin-left: 5px;
      }

      .leaflet-touch .leaflet-control-layers,
      .leaflet-touch .leaflet-bar {
        border: 2px none rgba(0, 0, 0, 0.2);
        background-clip: padding-box;
      }

      .button-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            justify-items: center;
            margin-top: 20px;
        }
      .button-container button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
        }
    </style>
    
    
  </head>
  <body>
    <!-- optionally define the sidebar content via HTML markup -->
    <div id="sidebar" class="leaflet-sidebar collapsed">
      <!-- nav tabs -->
      <div class="leaflet-sidebar-tabs">
        <!-- top aligned tabs -->
        <ul role="tablist">
          <li>
            <a href="#home" role="tab"><i class="fa fa-bars active"></i></a>
          </li>
          <li>
            <a href="#layers" role="tab"><i class="fa fa-sliders"></i></a>
          </li>
        </ul>

        <!-- bottom aligned tabs -->
        <ul role="tablist">
          <li>
            <a href="https://github.com/hilmyfar"><i class="fa fa-github"></i></a>
          </li>
        </ul>
      </div>

      <!-- panel content -->
    <div class="leaflet-sidebar-content">
      <div class="leaflet-sidebar-pane" id="home">
          <h1 class="leaflet-sidebar-header">
              WebGIS Transportasi Jatim
              <span class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></span>
          </h1>
          <br />
          <p style="text-align: center;">
            <img src="image/logo_jatim.png" alt="logo dishub jatim" style="max-width: 150px; height: auto;">
          </p>
          <p style="font-style: normal; text-align: center; font-weight: bold;">
              Selamat datang di laman WebGIS Integrasi Transportasi Publik Provinsi Jawa Timur
          </p>
          <div class="button-container">
              <button onclick="openImageSlider('set1')" style="grid-column: 1 / span 3;">Rencana Aksi</button>
              <button onclick="openImageSlider('set2')" style="grid-column: 1 / span 3;">Kelola Metropolitan Terpadu</button>
              <button onclick="openImageSlider('set3')" style="grid-column: 1 / span 3;">Jalanan Tenang dan Aman</button>
              <button onclick="openImageSlider('set4')" style="grid-column: 1 / span 3;">Mobilitas Layak Huni dan Mudah Diakses</button>
              <button onclick="openImageSlider('set5')" style="grid-column: 1 / span 3;">Angkutan Umum  Modern Terintegrasi</button>
          </div>
      </div>

      <div class="leaflet-sidebar-pane" id="layers">
          <span id="layer-control-container"></span>
      </div>
  </div>

  <!-- Image Slider -->
  <div id="imageSlider" class="popup" style="display: none;">
      <div class="popup-content">
          <span class="popup-close" onclick="closeImageSlider()">&times;</span>
          <h2>Rencana Aksi SUMP+</h2>
          <div id="imageContainer">
              <button onclick="prevImage()" style="position: absolute; top: 50%; left: 0;">&lt;</button>
              <button onclick="nextImage()" style="position: absolute; top: 50%; right: 0;">&gt;</button>
              <img id="sliderImage" src="" alt="Slider Image" style="display: block; margin: auto;">
          </div>
      </div>
  </div>

  <script>
      let currentImageIndex = 0;
      let currentImageSet = [];
      const imageSets = {
          set1: ['image/rencana/Rencana Aksi_Page_01.png'], 
          set2: ['image/rencana/Rencana Aksi_Page_02.png', 'image/rencana/Rencana Aksi_Page_03.png', 'image/rencana/Rencana Aksi_Page_04.png', 'image/rencana/Rencana Aksi_Page_05.png'],
          set3: ['image/rencana/Rencana Aksi_Page_06.png', 'image/rencana/Rencana Aksi_Page_07.png', 'image/rencana/Rencana Aksi_Page_08.png', 'image/rencana/Rencana Aksi_Page_09.png', 'image/rencana/Rencana Aksi_Page_10.png', 'image/rencana/Rencana Aksi_Page_11.png', 'image/rencana/Rencana Aksi_Page_12.png'],
          set4: ['image/rencana/Rencana Aksi_Page_13.png', 'image/rencana/Rencana Aksi_Page_14.png', 'image/rencana/Rencana Aksi_Page_15.png', 'image/rencana/Rencana Aksi_Page_16.png', 'image/rencana/Rencana Aksi_Page_17.png', 'image/rencana/Rencana Aksi_Page_18.png', 'image/rencana/Rencana Aksi_Page_19.png'],
          set5: ['image/rencana/Rencana Aksi_Page_20.png', 'image/rencana/Rencana Aksi_Page_21.png', 'image/rencana/Rencana Aksi_Page_22.png', 'image/rencana/Rencana Aksi_Page_23.png', 'image/rencana/Rencana Aksi_Page_24.png', 'image/rencana/Rencana Aksi_Page_25.png', 'image/rencana/Rencana Aksi_Page_26.png']
      };

      function openImageSlider(set) {
          currentImageSet = imageSets[set];
          currentImageIndex = 0;
          showCurrentImage();
          document.getElementById('imageSlider').style.display = 'flex';
          document.addEventListener('keydown', handleKeyPress);
      }

      function closeImageSlider() {
          document.getElementById('imageSlider').style.display = 'none';
          document.removeEventListener('keydown', handleKeyPress);
      }

      function handleKeyPress(event) {
          if (event.key === 'ArrowLeft') {
              prevImage();
          } else if (event.key === 'ArrowRight') {
              nextImage();
          }
      }

      function prevImage() {
          currentImageIndex = (currentImageIndex - 1 + currentImageSet.length) % currentImageSet.length;
          showCurrentImage();
      }

      function nextImage() {
          currentImageIndex = (currentImageIndex + 1) % currentImageSet.length;
          showCurrentImage();
      }

      function showCurrentImage() {
          const imageElement = document.getElementById('sliderImage');
          imageElement.src = currentImageSet[currentImageIndex];
      }
  </script>
    </div>

    <div id="map" class="sidebar-map"></div>

    <script src="js/leaflet-sidebar.js"></script>
    <script src="js/L.Control.AccordionLegend.js"></script>

    <!-- Replace with the actual path to your GeoJSON data -->
    <script src="data/transjatim/halte1.js"></script>
    <script src="data/transjatim/halte2.js"></script>
    <script src="data/transjatim/halte3.js"></script>
    <script src="data/transjatim/halte_rencana.js"></script>
    <script src="data/transjatim/koridor1.js"></script>
    <script src="data/transjatim/koridor2.js"></script>
    <script src="data/transjatim/koridor3.js"></script>
    <script src="data/transjatim/koridor4.js"></script>
    <script src="data/transjatim/koridor5.js"></script>
    <script src="data/sb_ts/Lin/Lin1.js"></script>
    <script src="data/sb_ts/Lin/Lin2.js"></script>
    <script src="data/sb_ts/Lin/Lin3.js"></script>
    <script src="data/sb_ts/Lin/Lin4.js"></script>
    <script src="data/sb_ts/feeder.js"></script>
    <script src="data/sb_ts/damri.js"></script>
    <script src="data/sb_ts/brt.js"></script>
    <script src="data/train/srrl.js"></script>
    <script src="data/train/mrt.js"></script>
    <script src="data/sb_ts/haltesb.js"></script>
    <script src="data/admin.js"></script>
    <script src="data/jaringan/statusjalanx.js"></script>
    <script src="data/jaringan/eksisting.js"></script>
    <script src="data/jaringan/rel_eksisting.js"></script>
    <script src="data/jaringan/rencana.js"></script>
    <script src="data/jaringan/rel_rencana.js"></script>
    <script src="data/infrastruktur/simpul_eks.js"></script>
    <script src="data/infrastruktur/bandara_eks.js"></script>
    <script src="data/infrastruktur/pelabuhan_eks.js"></script>
    <script src="data/infrastruktur/terminal_eks.js"></script>
    <script src="data/infrastruktur/stasiun_eks.js"></script>
    <script src="data/infrastruktur/simpul_ren.js"></script>
    <script src="data/infrastruktur/pelabuhan_ren.js"></script>
    <script src="data/train/linkline.js"></script>
    <script src="data/train/indroline.js"></script>
    <script src="data/train/cityline.js"></script>
    <script src="data/train/sidoarjoline.js"></script>
    <script src="data/train/mojokertoline.js"></script>
    <script src="data/train/lamonganline.js"></script>
    <script src="data/train/ultimateline.js"></script>

    <script>
      // Standard leaflet map setup
      var map = L.map("map").setView([-7.3166877,112.5732904], 10);

      var LAYERS_AND_LEGENDS = [
        {
          title: "Peta Dasar",
          layers: [
            {
              title: "Google Maps",
              layer: new L.tileLayer("https://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}", {
                attribution: "Tiles &copy; Google &mdash; Source: Google",
              }).addTo(map),
              opacityslider: false,
              legend: [],
            },
            {
              title: "Google Satellite",
              layer: L.tileLayer("http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}", {
                maxZoom: 20,
                subdomains: ["mt0", "mt1", "mt2", "mt3"],
                attribution: "Tiles &copy; Google &mdash; Source: Google",
              }),
              opacityslider: false,
              legend: [],
            },
            {
              title: "Batas Administrasi",
              layer: L.geoJson(admin, {
                style: function polystyle(feature) {
                  return {
                    fillColor: "grey",
                    weight: 1,
                    opacity: 1,
                    color: "grey",
                    fillOpacity: 0.3,
                  };
                },
                onEachFeature: function (feature, layer) {
                  layer
                    //.bindPopup(feature.properties.WADMKK)
                    //.bindTooltip(feature.properties.WADMKK, { permanent: true, direction: "center", color: "grey", className: "cuslabel" });
                },
                attribution: "",
                maxZoom: 15,
                zIndex: 1000,
              }).addTo(map),
              legend: [
                { type: "line", color: "grey", text: "Batas Kab/Kota" },
                { type: "square", color: "grey", text: "Wilayah Kab/Kota" },
              ],
            },
          ],
        },
        {
          title: "Jaringan Transportasi",
          layers: [
          {
              title: "Jaringan Jalan Eksisting",
              layer: L.geoJson(eksisting, {
                style: function (feature) {
                  return {
                    color: feature.properties.color, // You can change the color as needed
                    weight: 2 // Adjust the line weight as needed
                  };
                }, onEachFeature: function (feature, layer) {
                  var popupContent =
                    '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Ruas + '</th></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Fungsi</td><td style="border: 1px solid #ccc;">' + feature.properties.Fungsi + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Keterangan</td><td style="border: 1px solid #ccc;">' + feature.properties.Keterangan + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                      '</table>' +
                    '</div>';
                  layer.bindPopup(popupContent);
                },      
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [
                        { type: "line", color: "magenta", text: "Arteri Primer" },
                        { type: "line", color: "pink", text: "Kolektor Primer" },
                        { type: "line", color: "red", text: "Jalan Tol" }
                      ],        
            },
            {
              title: "Jaringan Kereta Eksisting",
              layer: L.geoJson(rel_eksisting, {
                style: function (feature) {
                  return {
                    color: "Black", // You can change the color as needed
                    weight: 2, // Adjust the line weight as needed
                    dashArray: '20, 10', dashOffset: '0'
                  };
                }, onEachFeature: function (feature, layer) {
                  var popupContent =
                    '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Ruas + '</th></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Fungsi</td><td style="border: 1px solid #ccc;">' + feature.properties.Fungsi + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Keterangan</td><td style="border: 1px solid #ccc;">' + feature.properties.Keterangan + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                      '</table>' +
                    '</div>';
                  layer.bindPopup(popupContent);
                    },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [
                        { type: "line", color: "black",dashArray: '20, 10', dashOffset: '0', text: "Rel Kereta Eksisting" },
                      ],
                      
            },
            {
              title: "Jaringan Jalan Rencana",
              layer: L.geoJson(rencana, {
                style: function (feature) {
                  return {
                    color: feature.properties.color, // You can change the color as needed
                    weight: 1, // Adjust the line weight as needed
                  };
                }, onEachFeature: function (feature, layer) {
                  var popupContent =
                    '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Ruas + '</th></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Fungsi</td><td style="border: 1px solid #ccc;">' + feature.properties.Fungsi + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Keterangan</td><td style="border: 1px solid #ccc;">' + feature.properties.Keterangan + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                      '</table>' +
                    '</div>';
                  layer.bindPopup(popupContent);
                    },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [
                      
                        { type: "line", color: "red", text: "Jalan Tol" },
                      ],
            },
            {
              title: "Jaringan Kereta Rencana",
              layer: L.geoJson(rel_rencana, {
                style: function (feature) {
                  return {
                    color: "Black", // You can change the color as needed
                    weight: 1, // Adjust the line weight as needed
                    dashArray: '10, 5', dashOffset: '0'
                  };
                }, onEachFeature: function (feature, layer) {
                  var popupContent =
                    '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Ruas + '</th></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Fungsi</td><td style="border: 1px solid #ccc;">' + feature.properties.Fungsi + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Keterangan</td><td style="border: 1px solid #ccc;">' + feature.properties.Keterangan + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                      '</table>' +
                    '</div>';
                  layer.bindPopup(popupContent);
                    },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [
                        { type: "line", color: "black", dashArray: '20, 10', dashOffset: '0', text: "Rel Kereta Rencana" },
                      ],
            },
            {
              title: "Status Jalan",
              layer: L.geoJson(statusjalan, {
                style: function (feature) {
                  return {
                    color: feature.properties.color, // You can change the color as needed
                    weight: 2, // Adjust the line weight as needed
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                    '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Ruas + '</th></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Status Jalan</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                      '</table>' +
                    '</div>';
                  layer.bindPopup(popupContent);
                    },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [
                        { type: "line", color: "blue", text: "Jalan Nasional" },
                        { type: "line", color: "aqua", text: "Jalan Provinsi" },
                      ],
            },
          ],
        },
        {
          title: "Infrastruktur Transportasi",
          layers: [
          {
              title: "Bandara Eksisting",
              layer: L.geoJson(bandara_eks, {
                pointToLayer: function (feature, latlng) {
                  var iconColor = feature.properties.Fungsi;

                  var smallIcon = L.icon({
                    iconSize: [20, 20],
                    iconAnchor: [13, 27],
                    popupAnchor: [1, -24],
                    iconUrl: "icon/" + iconColor + ".png",
                  });
                  return L.marker(latlng, { icon: smallIcon });
                },
                onEachFeature: function (feature, layer) {
                  var popupContent =
                    '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Fungsi</td><td style="border: 1px solid #ccc;">' + feature.properties.Fungsi + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Keterangan</td><td style="border: 1px solid #ccc;">' + feature.properties.Keterangan + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                      '</table>' +
                    '</div>';
                  layer.bindPopup(popupContent);
                },
                attribution: "Dishub Jatim, 2024",
                maxZoom: 15,
                zIndex: 100,

              }),
              opacityslider: false,
              legend: [
                { type: "image", url: "icon/Bandar Udara Khusus.png", text: "Bandar Udara Khusus" },
                { type: "image", url: "icon/Bandar Udara Pengumpan.png", text: "Bandar Udara Pengumpan" },
                { type: "image", url: "icon/Bandar Udara Pengumpul.png", text: "Bandar Udara Pengumpul" }
              ],
            },
            {
              title: "Pelabuhan Eksisting",
              layer: L.geoJson(pelabuhan_eks, {
                pointToLayer: function (feature, latlng) {
                  var iconColor = feature.properties.Fungsi;

                  var smallIcon = L.icon({
                    iconSize: [20, 20],
                    iconAnchor: [13, 27],
                    popupAnchor: [1, -24],
                    iconUrl: "icon/" + iconColor + ".png",
                  });
                  return L.marker(latlng, { icon: smallIcon });
                },
                onEachFeature: function (feature, layer) {
                  var popupContent =
                    '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Fungsi</td><td style="border: 1px solid #ccc;">' + feature.properties.Fungsi + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Keterangan</td><td style="border: 1px solid #ccc;">' + feature.properties.Keterangan + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                      '</table>' +
                    '</div>';
                  layer.bindPopup(popupContent);
                },
                attribution: "Dishub Jatim, 2024",
                maxZoom: 15,
                zIndex: 100,

              }),
              opacityslider: false,
              legend: [
              { type: "image", url: "icon/Pelabuhan Pengumpan.png", text: "Pelabuhan Pengumpan" },
              { type: "image", url: "icon/Pelabuhan Pengumpul.png", text: "Pelabuhan Pengumpul" },
              { type: "image", url: "icon/Pelabuhan Penyeberangan.png", text: "Pelabuhan Penyeberangan" },
                 { type: "image", url: "icon/Pelabuhan Utama.png", text: "Pelabuhan Utama" }
              ],
            },
            {
              title: "Pelabuhan Rencana",
              layer: L.geoJson(pelabuhan_ren, {
                pointToLayer: function (feature, latlng) {
                  var iconColor = feature.properties.Fungsi;

                  var smallIcon = L.icon({
                    iconSize: [20, 20],
                    iconAnchor: [13, 27],
                    popupAnchor: [1, -24],
                    iconUrl: "icon/" + iconColor + ".png",
                  });
                  return L.marker(latlng, { icon: smallIcon });
                },
                onEachFeature: function (feature, layer) {
                 var popupContent =
                    '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Fungsi</td><td style="border: 1px solid #ccc;">' + feature.properties.Fungsi + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Keterangan</td><td style="border: 1px solid #ccc;">' + feature.properties.Keterangan + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                      '</table>' +
                    '</div>';
                  layer.bindPopup(popupContent);
                },
                attribution: "Dishub Jatim, 2024",
                maxZoom: 15,
                zIndex: 100,

              }),
              opacityslider: false,
              legend: [
              { type: "image", url: "icon/Pelabuhan Pengumpan.png", text: "Pelabuhan Pengumpan" },
              { type: "image", url: "icon/Pelabuhan Pengumpul.png", text: "Pelabuhan Pengumpul" },
              { type: "image", url: "icon/Pelabuhan Penyeberangan.png", text: "Pelabuhan Penyeberangan" },
                 { type: "image", url: "icon/Pelabuhan Utama.png", text: "Pelabuhan Utama" }
              ],
            },
            {
              title: "Terminal Penumpang Eksisting",
              layer: L.geoJson(terminal_eks, {
                pointToLayer: function (feature, latlng) {
                  var iconColor = feature.properties.Fungsi;

                  var smallIcon = L.icon({
                    iconSize: [20, 20],
                    iconAnchor: [13, 27],
                    popupAnchor: [1, -24],
                    iconUrl: "icon/" + iconColor + ".png",
                  });
                  return L.marker(latlng, { icon: smallIcon });
                },
                onEachFeature: function (feature, layer) {
                  var popupContent =
                    '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Fungsi</td><td style="border: 1px solid #ccc;">' + feature.properties.Fungsi + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Keterangan</td><td style="border: 1px solid #ccc;">' + feature.properties.Keterangan + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                      '</table>' +
                    '</div>';
                  layer.bindPopup(popupContent);
                },
                attribution: "Dishub Jatim, 2024",
                maxZoom: 15,
                zIndex: 100,

              }),
              opacityslider: false,
              legend: [
              { type: "image", url: "icon/Terminal Penumpang Tipe A.png", text: "Terminal Penumpang Tipe A" },
              { type: "image", url: "icon/Terminal Penumpang Tipe B.png", text: "Terminal Penumpang Tipe B" }
              ],
            },
            {
              title: "Stasiun Kereta Api Eksisting",
              layer: L.geoJson(stasiun_eks, {
                pointToLayer: function (feature, latlng) {
                  var iconColor = feature.properties.Fungsi;

                  var smallIcon = L.icon({
                    iconSize: [20, 20],
                    iconAnchor: [13, 27],
                    popupAnchor: [1, -24],
                    iconUrl: "icon/" + iconColor + ".png",
                  });
                  return L.marker(latlng, { icon: smallIcon });
                },
                onEachFeature: function (feature, layer) {
                  var popupContent =
                    '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Fungsi</td><td style="border: 1px solid #ccc;">' + feature.properties.Fungsi + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Keterangan</td><td style="border: 1px solid #ccc;">' + feature.properties.Keterangan + '</td></tr>' +
                        '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                      '</table>' +
                    '</div>';
                  layer.bindPopup(popupContent);
                },
                attribution: "Dishub Jatim, 2024",
                maxZoom: 15,
                zIndex: 100,
              }),
              opacityslider: false,
              legend: [
              { type: "image", url: "icon/Stasiun Kereta Api.png", text: "Stasiun Kereta Api" }
              ],
            },
          ],
        },
        {
          title: "Rute TransJatim",
          layers: [
            {
              title: "Koridor 1 Gresik-Sidoarjo via Surabaya",
              layer: L.geoJson(koridor1, {
                style: function (feature) {
                  return {
                    color: "red", // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                  };
                  }, onEachFeature: function (feature, layer) {
                    var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                    layer.bindPopup(popupContent);
                  },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [{ type: "line", color: "red", text: "" }],
            },
            {
              title: "Koridor 2 Surabaya-Mojokerto",
              layer: L.geoJson(koridor2, {
                style: function (feature) {
                  return {
                    color: "yellow", // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [{ type: "line", color: "yellow", text: "" }],
            },
            {
              title: "Koridor 3 Mojokerto-Gresik",
              layer: L.geoJson(koridor3, {
                style: function (feature) {
                  return {
                    color: "green", // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                  };
                }, onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [{ type: "line", color: "green", text: "" }],
            },
            {
              title: "Koridor 4 Lamongan-Gresik",
              layer: L.geoJson(koridor4, {
                style: function (feature) {
                  return {
                    color: "blue", // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [{ type: "line", color: "blue", text: "" }],
            },
            {
              title: "Koridor 5 Surabaya-Bangkalan",
              layer: L.geoJson(koridor5, {
                style: function (feature) {
                  return {
                    color: "purple", // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [{ type: "line", color: "purple", text: "" }],
            },
          ],
        },
        
        {
          title: "Halte TransJatim",
          layers: [
          {
              title: "Halte Koridor 1",
              layer: L.geoJson(halte1, {
                pointToLayer: function (feature, latlng) {
                  var iconColor = "haltered";

                  var smallIcon = L.icon({
                    iconSize: [23, 23],
                    iconAnchor: [13, 27],
                    popupAnchor: [1, -24],
                    iconUrl: "icon/" + iconColor + ".png",
                  });
                  return L.marker(latlng, { icon: smallIcon });
                },
                onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                attribution: "Dishub Jatim, 2024",
                maxZoom: 15,
                zIndex: 100,
              }),
              legend: [
                { type: "image", url: "icon/haltered.png", text: "" }
              ],
              opacityslider: false,
            },
            {
              title: "Halte Koridor 2",
              layer: L.geoJson(halte2, {
                pointToLayer: function (feature, latlng) {
                  var iconColor = "halteyellow";

                  var smallIcon = L.icon({
                    iconSize: [23, 23],
                    iconAnchor: [13, 27],
                    popupAnchor: [1, -24],
                    iconUrl: "icon/" + iconColor + ".png",
                  });
                  return L.marker(latlng, { icon: smallIcon });
                },
                onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                attribution: "Dishub Jatim, 2024",
                maxZoom: 15,
                zIndex: 100,
              }),
              legend: [
                { type: "image", url: "icon/halteyellow.png", text: "" }
              ],
              opacityslider: false,
            },
            {
              title: "Halte Koridor 3",
              layer: L.geoJson(halte3, {
                pointToLayer: function (feature, latlng) {
                  var iconColor = "haltegreen";

                  var smallIcon = L.icon({
                    iconSize: [23, 23],
                    iconAnchor: [13, 27],
                    popupAnchor: [1, -24],
                    iconUrl: "icon/" + iconColor + ".png",
                  });
                  return L.marker(latlng, { icon: smallIcon });
                },
                onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                attribution: "Dishub Jatim, 2024",
                maxZoom: 15,
                zIndex: 100,
              }),
              legend: [
                { type: "image", url: "icon/haltegreen.png", text: "" }
              ],
              opacityslider: false,
            },
            {
              title: "Halte Koridor Rencana (4)",
              layer: L.geoJson(halte_rencana, {
                pointToLayer: function (feature, latlng) {
                  var iconColor = "halte";

                  var smallIcon = L.icon({
                    iconSize: [23, 23],
                    iconAnchor: [13, 27],
                    popupAnchor: [1, -24],
                    iconUrl: "icon/" + iconColor + ".png",
                  });
                  return L.marker(latlng, { icon: smallIcon });
                },
                onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                attribution: "Dishub Jatim, 2024",
                maxZoom: 15,
                zIndex: 100,
              }),
              legend: [
                { type: "image", url: "icon/halte.png", text: "" }
              ],
              opacityslider: false,
            },
          ]
        },
        {
          title: "Bus dan Feeder Surabaya",
          layers: [
          {
              title: "Halte Bus dan Feeder Surabaya",
              layer: L.geoJson(haltesb, {
                pointToLayer: function (feature, latlng) {
                  var iconColor = "haltegrey";

                  var smallIcon = L.icon({
                    iconSize: [12, 12],
                    iconAnchor: [13, 27],
                    popupAnchor: [1, -24],
                    iconUrl: "icon/" + iconColor + ".png",
                  });
                  return L.marker(latlng, { icon: smallIcon });
                },
                onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                attribution: "Dishub Jatim, 2024",
                maxZoom: 15,
                zIndex: 100,
              }),
              legend: [
                { type: "image", url: "icon/haltegrey.png", text: "" }
              ],
              opacityslider: false,
            },  
          {
              title: "SB R1/R2 Purabaya-Rajawali",
              layer: L.geoJson(Lin1, {
                style: function (feature) {
                  return {
                    color: "red", // You can change the color as needed
                    weight: 2, // Adjust the line weight as needed
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [{ type: "line", color: "red", text: "" }],
            },
            {
              title: "TS TB-II Lidah Wetan-Kejawan PT",
              layer: L.geoJson(Lin2, {
                style: function (feature) {
                  return {
                    color: "yellow", // You can change the color as needed
                    weight: 2, // Adjust the line weight as needed
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [{ type: "line", color: "yellow", text: "" }],
            },
            {
              title: "TS K3L MERR",
              layer: L.geoJson(Lin3, {
                style: function (feature) {
                  return {
                    color: "green", // You can change the color as needed
                    weight: 2, // Adjust the line weight as needed
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [{ type: "line", color: "green", text: "" }],
            },
            {
              title: "Feeder Wira-Wiri",
              layer: L.geoJson(feeder, {
                style: function (feature) {
                  return {
                    color: feature.properties.color, // You can change the color as needed
                    weight: 1, // Adjust the line weight as needed
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [
                { type: "line", color: "#DC143C", text: "FD01" },
                { type: "line", color: "#B22222", text: "FD02" },
                { type: "line", color: "#FF4500", text: "FD03" },
                { type: "line", color: "#8B0000", text: "FD05" },
                { type: "line", color: "#A52A2A", text: "FD06" },
                { type: "line", color: "#FF6347", text: "FD07" },
                { type: "line", color: "#FFA500", text: "FD08" },
              ],
            },
            {
              title: "Bus Kota Damri",
              layer: L.geoJson(damri, {
                style: function (feature) {
                  return {
                    color: "purple", // You can change the color as needed
                    weight: 1, // Adjust the line weight as needed
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [{ type: "line", color: "purple", text: "" }],
            },
            {
              title: "Rencana BRT Greater Surabaya (GIZ INDOBUS)",
              layer: L.geoJson(brt, {
                style: function (feature) {
                  return {
                    color: feature.properties.color, // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }),
              opacityslider: false,
              legend: [
                        { type: "line", color: "pink", text: "Lin 1" },
                        { type: "line", color: "aquamarine", text: "Lin 2" }
                      ],
            },
          ],
        },
        {
          title: "Surabaya Regional Railway Line",
          layers: [
          {
              title: "Sidoarjo - Tarik (Link Line)",
              layer: L.geoJson(linkline, {
                style: function (feature) {
                  return {
                    color: "#0024C6", // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                    dashArray: "5, 5"
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }), 
              opacityslider: false,
              legend: [{ type: "line", color: "#0024C6", text: "" }],
            },
            {
              title: "Kandangan - Indro (Indro Branch)",
              layer: L.geoJson(indroline, {
                style: function (feature) {
                  return {
                    color: "#BD00C6", // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                    dashArray: "5, 5"
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }), 
              opacityslider: false,
              legend: [{ type: "line", color: "#BD00C6", text: "" }],
            },
            {
              title: "S. Pasar Turi - S. Gubeng (City Line)",
              layer: L.geoJson(cityline, {
                style: function (feature) {
                  return {
                    color: "#15C600", // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                    dashArray: "5, 5"
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }), 
              opacityslider: false,
              legend: [{ type: "line", color: "#15C600", text: "" }],
            },
            {
              title: "S. Gubeng - Sidoarjo (Sidoarjo Line)",
              layer: L.geoJson(sidoarjoline, {
                style: function (feature) {
                  return {
                    color: "#C60000", // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                    dashArray: "5, 5"
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }), 
              opacityslider: false,
              legend: [{ type: "line", color: "#C60000", text: "" }],
            },
            {
              title: "Wonokromo - Mojokerto (Mojokerto Line)",
              layer: L.geoJson(mojokertoline, {
                style: function (feature) {
                  return {
                    color: "#C68700", // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                    dashArray: "5, 5"
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }), 
              opacityslider: false,
              legend: [{ type: "line", color: "#C68700", text: "" }],
            },
            {
              title: "Lamongan - S. Pasar Turi (Lamongan Line)",
              layer: L.geoJson(lamonganline, {
                style: function (feature) {
                  return {
                    color: "#00C6BA", // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                    dashArray: "5, 5"
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }), 
              opacityslider: false,
              legend: [{ type: "line", color: "#00C6BA", text: "" }],
            },
            {
              title: "Waru - Juanda Airport (Ultimate Network)",
              layer: L.geoJson(ultimateline, {
                style: function (feature) {
                  return {
                    color: "#C6AE00", // You can change the color as needed
                    weight: 3, // Adjust the line weight as needed
                    dashArray: "5, 5"
                  };
                },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
                
                attribution: "Dishub Jatim, 2024",
                maxZoom: 25,
                zIndex: 50,
              }), 
              opacityslider: false,
              legend: [{ type: "line", color: "#C6AE00", text: "" }],
            },
          ],
        },
        {
          title: "Mass Rapid Transit (MRT)",
          layers: [
          {
            title: "MRT Surabaya",
            layer: L.geoJson(mrt, {
              style: function (feature) {
                return {
                  color: feature.properties.color, // You can change the color as needed
                  weight: 3, // Adjust the line weight as needed
                  dashArray: "10, 10"
                };
              },  onEachFeature: function (feature, layer) {
                  var popupContent =
                      '<div class="popup-table">' +
                        '<table style="border-collapse: collapse;">' +
                          '<tr><th colspan="2";">' + feature.properties.Nama_Objek + '</th></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Rute</td><td style="border: 1px solid #ccc;">' + feature.properties.Jalur_Rute + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Status</td><td style="border: 1px solid #ccc;">' + feature.properties.Status + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dasar Rencana</td><td style="border: 1px solid #ccc;">' + feature.properties.Dsar_Rncna + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Dok. Teknis</td><td style="border: 1px solid #ccc;">' + feature.properties.Dok_Teknis + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber Dana</td><td style="border: 1px solid #ccc;">' + feature.properties.Smber_Dana + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">OPD PJ</td><td style="border: 1px solid #ccc;">' + feature.properties.OPD_PJ + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Operator</td><td style="border: 1px solid #ccc;">' + feature.properties.Operator + '</td></tr>' +
                          '<tr><td style="border: 1px solid #ccc;">Sumber</td><td style="border: 1px solid #ccc;">' + feature.properties.Sumber + '</td></tr>' +
                        '</table>' +
                      '</div>';
                  layer.bindPopup(popupContent);
                },
              
              attribution: "Dishub Jatim, 2024",
              maxZoom: 25,
              zIndex: 50,
            }),
            opacityslider: false,
            legend: [
                      { type: "line", color: "red", text: "Line Timur-Barat" },
                      { type: "line", color: "blue", text: "Line Utara-Selatan" },
                    ],
          },
        ]
        }
      ];

      // Add the scale control to the map
      // L.control.scale().addTo(map);

      // Create the sidebar instance and add it to the map
      var sidebar = L.control.sidebar({ container: "sidebar", autopan: true }).addTo(map).open("home");

      // Add the layer control accordion
      var layerControl = new L.Control.AccordionLegend({
        position: "topleft",
        content: LAYERS_AND_LEGENDS,
      }).addTo(map);
      layerControl.expandUI();

      var htmlObject = layerControl.getContainer();
      var layersTab = document.getElementById("layer-control-container");
      if (layersTab) {
        layersTab.appendChild(htmlObject);
      }
    </script>
  </body>
</html>
